 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/chat.py b/chat.py
index a5041288a36b3ca0646ad009f599fb1f62ac6af6..d14ef860f67ce5b773f76f4f1df3d8c68071babc 100644
--- a/chat.py
+++ b/chat.py
@@ -133,47 +133,50 @@ def main():
         logger.debug("Log file opened: %s", cp.CON_LOG_FILE_PATH)
 
         
 
 
     while dpg.is_dearpygui_running():
         dpg.render_dearpygui_frame()
 
         if Status.running == True:
             if logfile:
                 
                 line = cp.rt_file_read(logfile)
                 
                 if not line:
                     continue
                 logger.debug(line.strip())
                 username, message, chat_type = cp.parse_log(game, line)
 
                 if username and message:
                     #print(f"[DEBUG] {username}: {message}:")
                     # This way we prevent chat-gpt from talking to itself
                     logger.debug("Username: %s", username)
                     if username not in cp.BLACKLISTED_USERNAMES:
                         reply = openrouter_interact(username, message)
                         if reply:
-                            key = cp.TEAM_CHAT_KEY if chat_type == "team" else cp.CHAT_KEY
-                            cp.sim_key_presses(reply, key)
+                            if reply.strip() == "[IGNORE]":
+                                logger.debug("[IGNORE] received, skipping keystrokes")
+                            else:
+                                key = cp.TEAM_CHAT_KEY if chat_type == "team" else cp.CHAT_KEY
+                                cp.sim_key_presses(reply, key)
                         else:
                             logger.debug("Empty reply, skipping keystrokes")
                     else:
                         logger.debug("Message ignored from blacklisted user")
                 else:
                     continue
     
     if logfile:
         logfile.close()
     dpg.destroy_context()
 
 
 
 
 
 
 
 
 if __name__ == "__main__":
     main()
 
EOF
)